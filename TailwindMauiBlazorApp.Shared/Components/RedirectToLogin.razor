@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager Navigation
@inject CustomAuthenticationStateProvider AuthProvider

@code {
    protected async Task OnInitialized()
    {
        // AuthProvider.MarkUserAsLoggedOut();
        // Navigation.NavigateTo("/api/account/login", true);
        var authState = await AuthProvider.GetAuthenticationStateAsync();
        if (!authState.User.Identity?.IsAuthenticated ?? true)
        {
            Navigation.NavigateTo("/api/account/login", true);
        }
    }
}